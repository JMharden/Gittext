<?phpnamespace Admin\Controller;use Think\Controller;class TimedTaskController extends Controller{    /**     * 定时恢复体力     */    public function recovery()    {        if(S("recovery_task")){            echo "该任务限制每小时执行一次";            exit;        }        //体力上限为30        M('user')->where(array('stamina' => array('LT', 50)))->setInc('stamina', 1);        S("recovery_task","task",["expire"=>3600]);        echo "执行成功";        exit;    }    /**     * 定时恢复体力     */    public function init()    {        if(S("init_task")){            echo "该任务限制每天执行一次";            exit;        }        $data['stamina'] = 50;        //体力上限为30        M('user')->where(array('id' => array('GT', 0)))->save($data);        S("init_task","task",["expire"=>3600*10]);        echo "执行成功";        exit;    }}